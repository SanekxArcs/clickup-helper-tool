<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>History Search Clear Button Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="p-8 bg-gray-100">
    <h1 class="text-2xl font-bold mb-4">History Search Clear Button Test</h1>
    
    <!-- Search field with clear button -->
    <div class="mb-4">
        <div class="flex gap-2">
            <div class="flex-1 relative">
                <input type="text" id="historySearch" placeholder="Search by task ID or title..." class="w-full p-2.5 pr-8 border-2 border-gray-200 rounded-md text-sm transition-colors duration-300 box-border focus:outline-none focus:border-blue-500">
                <button id="clearSearchBtn" class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 text-lg font-normal w-5 h-5 items-center justify-center rounded-full hover:bg-gray-200 transition-all duration-200 cursor-pointer hidden" title="Clear search" style="display: none; line-height: 1;">×</button>
            </div>
            <select id="statusFilter" class="px-3 py-2.5 border-2 border-gray-200 rounded-md text-sm transition-colors duration-300 box-border focus:outline-none focus:border-blue-500 bg-white min-w-[140px]">
                <option value="">All Statuses</option>
                <option value="in-progress">In Progress</option>
                <option value="completed">Completed</option>
            </select>
        </div>
    </div>
    
    <div id="testOutput" class="mt-4 p-4 bg-white rounded border">
        <h2 class="font-bold mb-2">Test Instructions:</h2>
        <ol class="list-decimal ml-4 space-y-1">
            <li>Type something in the search field - the × button should appear</li>
            <li>Click the × button - it should clear the field and disappear</li>
            <li>Test that the hover effects work correctly</li>
        </ol>
    </div>

    <script>
        // Test implementation of the clear button functionality
        const searchInput = document.getElementById('historySearch');
        const clearBtn = document.getElementById('clearSearchBtn');
        
        function toggleClearButton() {
            const hasText = searchInput.value.trim().length > 0;
            if (hasText) {
                clearBtn.style.display = 'flex';
                clearBtn.classList.remove('hidden');
            } else {
                clearBtn.style.display = 'none';
                clearBtn.classList.add('hidden');
            }
        }
        
        function clearSearchField() {
            searchInput.value = '';
            toggleClearButton();
            searchInput.focus();
        }
        
        // Event listeners
        searchInput.addEventListener('input', toggleClearButton);
        clearBtn.addEventListener('click', clearSearchField);
        
        // Initialize
        toggleClearButton();
    </script>
</body>
</html>
